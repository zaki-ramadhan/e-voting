<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="src/output.css" rel="stylesheet">
    <title>Login Akun</title>
    <script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
</head>

<body class="font-['Space_Grotesk'] bg-yellow-300 min-h-screen">
    <!-- Header -->
    <header class="bg-white border-b-4 border-black p-4">
        <div class="container mx-auto flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div
                    class="w-10 h-10 bg-black text-yellow-300 border-2 border-black flex items-center justify-center font-black text-lg">
                    E
                </div>
                <span class="font-black text-xl text-black">EVOTINGKITA</span>
            </div>
            <div class="hidden sm:flex items-center gap-4">
                <span class="text-sm font-bold text-black bg-pink-200 px-3 py-1 border-2 border-black">SECURE
                    LOGIN</span>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Left Section - Login Form -->
            <section class="bg-white border-4 border-black shadow-[8px_8px_0px_0px_#000] p-6 md:p-8">
                <!-- Welcome Section -->
                <div class="mb-8">
                    <h1 class="text-3xl md:text-4xl font-black text-black mb-2 leading-tight">
                        SELAMAT DATANG!
                    </h1>
                    <p class="text-lg font-medium text-gray-700 bg-blue-100 border-2 border-black p-3 inline-block">
                        Masuk dengan NISN untuk memulai voting üó≥Ô∏è
                    </p>
                </div>

                <!-- Login Form -->
                <form class="space-y-6" id="loginForm">
                    <!-- NISN Input -->
                    <div>
                        <label
                            class="block text-sm font-bold text-black mb-2 bg-gray-100 border-2 border-black px-1 py-1">
                            NISN (Nomor Induk Siswa Nasional)
                        </label>
                        <input type="text" maxlength="10" pattern="[0-9]{10}"
                            class="w-full border-3 border-black p-4 text-base font-medium placeholder-gray-500 focus:outline-none focus:-translate-x-1 focus:-translate-y-1 focus:shadow-[4px_4px_0px_0px_#000] transition-all bg-white"
                            placeholder="Masukkan 10 digit NISN Anda" id="nisnInput">
                        <p class="text-xs text-gray-600 mt-1 bg-yellow-100 border border-black p-2">
                            <iconify-icon icon="mdi:information" width="12" height="12"
                                class="text-black"></iconify-icon>
                            Contoh: 1234567890 (10 digit angka)
                        </p>
                    </div>

                    <!-- Password Input -->
                    <div>
                        <label
                            class="block text-sm font-bold text-black mb-2 bg-gray-100 border-2 border-black px-1 py-1">
                            PASSWORD
                        </label>
                        <div class="relative">
                            <input type="password" id="passwordField"
                                class="w-full border-3 border-black p-4 pr-12 text-base font-medium placeholder-gray-500 focus:outline-none focus:-translate-x-1 focus:-translate-y-1 focus:shadow-[4px_4px_0px_0px_#000] transition-all bg-white"
                                placeholder="Masukkan password Anda">
                            <button type="button" id="togglePassword"
                                class="absolute right-3 top-1/2 -translate-y-1/2 w-8 h-8 bg-yellow-300 border-2 border-black flex items-center justify-center hover:bg-yellow-400 transition-colors">
                                <iconify-icon icon="iconamoon:eye-off-light" width="16" height="16"
                                    class="text-black"></iconify-icon>
                            </button>
                        </div>
                    </div>

                    <!-- Remember Me & Forgot Password -->
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4">
                        <label class="flex items-center gap-3 cursor-pointer">
                            <div class="relative">
                                <input type="checkbox" id="rememberMe" class="sr-only">
                                <div class="w-5 h-5 border-2 border-black bg-white flex items-center justify-center"
                                    id="checkboxDisplay">
                                    <iconify-icon icon="mdi:check" width="12" height="12" class="text-black hidden"
                                        id="checkIcon"></iconify-icon>
                                </div>
                            </div>
                            <span class="text-sm font-medium text-black">Ingat saya</span>
                        </label>
                        <a href="#"
                            class="text-sm font-bold text-black bg-pink-200 border-2 border-black px-3 py-1 hover:bg-pink-300 transition-colors">
                            Lupa password?
                        </a>
                    </div>

                    <!-- Login Button -->
                    <button type="submit" id="loginButton"
                        class="w-full bg-black text-white border-3 border-black py-4 text-lg font-black hover:-translate-x-1 hover:-translate-y-1 hover:shadow-[6px_6px_0px_0px_#fde047] active:-translate-x-1 active:-translate-y-1 active:shadow-[2px_2px_0px_0px_#fde047] transition-all">
                        MASUK SEKARANG
                    </button>
                </form>

                <!-- Info Section -->
                <div class="mt-8 bg-green-100 border-2 border-black p-4">
                    <h3 class="font-black text-black mb-2 flex items-center gap-2">
                        <iconify-icon icon="mdi:information-outline" width="16" height="16"></iconify-icon>
                        INFORMASI PENTING
                    </h3>
                    <ul class="text-sm text-gray-700 space-y-1">
                        <li>‚Ä¢ Gunakan NISN yang terdaftar di sekolah</li>
                        <li>‚Ä¢ Password default adalah tanggal lahir (DDMMYYYY)</li>
                        <li>‚Ä¢ Hubungi panitia jika mengalami kesulitan login</li>
                    </ul>
                </div>

                <!-- Contact Help -->
                <div class="mt-6 text-center">
                    <span class="text-base font-medium bg-blue-100 border-2 border-black p-3 inline-block">
                        Butuh bantuan?
                        <a href="#"
                            class="font-black text-black bg-orange-300 border-2 border-black px-3 py-1 ml-2 hover:bg-orange-400 transition-colors inline-block">
                            HUBUNGI PANITIA
                        </a>
                    </span>
                </div>
            </section>

            <!-- Right Section - Illustration -->
            <section class="hidden lg:block">
                <div class="h-full relative">
                    <!-- Main Container -->
                    <div
                        class="bg-pink-200 border-4 border-black shadow-[12px_12px_0px_0px_#000] h-full p-6 relative overflow-hidden">
                        <!-- Placeholder for image -->
                        <div
                            class="w-full h-full bg-gradient-to-br from-purple-300 to-blue-300 border-3 border-black flex items-center justify-center">
                            <div class="text-center">
                                <iconify-icon icon="mdi:account-school" width="80" height="80"
                                    class="text-black mb-4"></iconify-icon>
                                <h3 class="text-2xl font-black text-black mb-2">SISWA</h3>
                                <p
                                    class="text-lg font-bold text-black bg-white border-2 border-black px-4 py-1 inline-block">
                                    VOTING SYSTEM
                                </p>
                            </div>
                        </div>

                        <!-- Decorative Elements -->
                        <div class="absolute top-4 right-4 bg-yellow-300 border-2 border-black p-2">
                            <iconify-icon icon="mdi:school" width="20" height="20" class="text-black"></iconify-icon>
                        </div>

                        <div class="absolute bottom-4 left-4 bg-green-300 border-2 border-black p-2">
                            <span class="font-black text-sm text-black">2025</span>
                        </div>

                        <div class="absolute top-1/2 right-4 bg-blue-300 border-2 border-black p-2 transform rotate-45">
                            <iconify-icon icon="mdi:vote" width="16" height="16" class="text-black"></iconify-icon>
                        </div>
                    </div>

                    <!-- Floating Elements -->
                    <div class="absolute -top-4 -left-4 bg-black text-white border-2 border-black p-3 rotate-12">
                        <span class="font-black text-lg">NISN</span>
                    </div>

                    <div class="absolute -bottom-4 -right-4 bg-red-400 text-black border-2 border-black p-3 -rotate-12">
                        <span class="font-black text-lg">AMAN</span>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-black text-white border-t-4 border-white mt-12 p-4">
        <div class="container mx-auto text-center">
            <p class="text-sm font-medium">¬© 2025 EVotingKita - Sistem Voting Digital Sekolah</p>
        </div>
    </footer>

    <!-- Login Success Modal -->
    <div id="loginSuccessModal" class="fixed inset-0 bg-black bg-opacity-50 p-4 hidden z-50">
        <div class="flex items-center justify-center min-h-screen">
            <div class="bg-white border-4 border-black shadow-[16px_16px_0px_0px_#000] p-8 max-w-lg w-full">
                <!-- Success Icon -->
                <div class="text-center mb-6">
                    <div
                        class="w-16 h-16 bg-green-500 border-3 border-black rounded-full flex items-center justify-center mx-auto mb-4">
                        <iconify-icon icon="mdi:check-bold" width="32" height="32" class="text-white"></iconify-icon>
                    </div>
                    <h3 class="text-3xl font-black text-black mb-2">LOGIN BERHASIL!</h3>
                    <div class="bg-green-100 border-2 border-black p-3 inline-block">
                        <iconify-icon icon="mdi:login" width="20" height="20" class="text-black mr-2"></iconify-icon>
                        <span class="font-bold text-green-800">Selamat datang di sistem voting!</span>
                    </div>
                </div>

                <!-- User Info -->
                <div class="bg-yellow-100 border-3 border-black p-4 mb-6">
                    <h4 class="text-sm font-black text-black mb-2 bg-black px-2 py-1 inline-block">
                        INFORMASI AKUN
                    </h4>
                    <p class="text-lg font-black text-black" id="userNISN">NISN: -</p>
                    <p class="text-sm text-gray-600 mt-1">
                        <iconify-icon icon="mdi:clock-outline" width="14" height="14" class="mr-1"></iconify-icon>
                        <span id="loginTime"></span>
                    </p>
                </div>

                <!-- Welcome Message -->
                <div class="text-center mb-6">
                    <div class="bg-blue-100 border-2 border-black p-4">
                        <h4 class="font-black text-black mb-2">üó≥Ô∏è SIAP UNTUK VOTING?</h4>
                        <p class="text-sm text-gray-700 mb-2">
                            Anda akan diarahkan ke halaman voting dalam beberapa detik.
                        </p>
                        <div class="bg-pink-100 border border-black p-2 mt-3">
                            <p class="text-xs font-medium text-gray-600">
                                <iconify-icon icon="mdi:timer-sand" width="12" height="12" class="mr-1"></iconify-icon>
                                Redirect otomatis dalam <span id="countdown">3</span> detik
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-3">
                    <button onclick="redirectToVoting()"
                        class="flex-1 bg-blue-500 text-white border-3 border-black py-3 font-black hover:-translate-x-1 hover:-translate-y-1 hover:shadow-[4px_4px_0px_0px_#000] transition-all">
                        LANGSUNG KE VOTING
                    </button>
                    <button onclick="closeLoginModal()"
                        class="flex-1 bg-gray-300 text-black border-3 border-black py-3 font-black hover:-translate-x-1 hover:-translate-y-1 hover:shadow-[4px_4px_0px_0px_#000] transition-all">
                        TUNGGU
                    </button>
                </div>

                <!-- Security Info -->
                <div class="mt-6 text-center">
                    <p class="text-xs text-gray-600 bg-gray-100 border-2 border-black p-2">
                        <iconify-icon icon="mdi:shield-check" width="12" height="12" class="mr-1"></iconify-icon>
                        Sesi login Anda telah diamankan dan terenkripsi
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Modal -->
    <div id="loadingModal" class="fixed inset-0 bg-black bg-opacity-50 p-4 hidden z-50">
        <div class="flex items-center justify-center min-h-screen">
            <div class="bg-white border-4 border-black shadow-[12px_12px_0px_0px_#000] p-8 max-w-md w-full">
                <div class="text-center">
                    <div
                        class="w-16 h-16 bg-blue-500 border-3 border-black rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse">
                        <iconify-icon icon="mdi:loading" width="32" height="32"
                            class="text-white animate-spin"></iconify-icon>
                    </div>
                    <h3 class="text-2xl font-black text-black mb-2">MEMVERIFIKASI...</h3>
                    <p class="text-base font-medium text-gray-700 bg-yellow-100 border-2 border-black p-3">
                        Sedang memproses login Anda
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let countdownTimer = null;

        // NISN input validation
        document.getElementById('nisnInput').addEventListener('input', function () {
            // Remove non-numeric characters
            this.value = this.value.replace(/[^0-9]/g, '');

            // Limit to 10 digits
            if (this.value.length > 10) {
                this.value = this.value.slice(0, 10);
            }
        });

        // Password visibility toggle
        document.getElementById('togglePassword').addEventListener('click', function () {
            const passwordField = document.getElementById('passwordField');
            const icon = this.querySelector('iconify-icon');

            if (passwordField.type === 'password') {
                passwordField.type = 'text';
                icon.setAttribute('icon', 'iconamoon:eye-light');
            } else {
                passwordField.type = 'password';
                icon.setAttribute('icon', 'iconamoon:eye-off-light');
            }
        });

        // Custom checkbox
        document.getElementById('rememberMe').addEventListener('change', function () {
            const checkboxDisplay = document.getElementById('checkboxDisplay');
            const checkIcon = document.getElementById('checkIcon');

            if (this.checked) {
                checkboxDisplay.classList.add('bg-black');
                checkboxDisplay.classList.add('text-yellow-300');
                checkIcon.classList.remove('hidden');
                checkIcon.classList.add('text-yellow-300');
            } else {
                checkboxDisplay.classList.remove('bg-black');
                checkboxDisplay.classList.remove('text-yellow-300');
                checkIcon.classList.add('hidden');
                checkIcon.classList.remove('text-yellow-300');
            }
        });

        // Show loading modal
        function showLoadingModal() {
            const modal = document.getElementById('loadingModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex', 'items-center', 'justify-center');
        }

        // Hide loading modal
        function hideLoadingModal() {
            const modal = document.getElementById('loadingModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex', 'items-center', 'justify-center');
        }

        // Show login success modal
        function showLoginSuccessModal(nisn) {
            // Set user info
            document.getElementById('userNISN').textContent = `NISN: ${nisn}`;

            // Set login time
            const now = new Date();
            const timeString = now.toLocaleString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('loginTime').textContent = `Login pada: ${timeString}`;

            // Show modal
            const modal = document.getElementById('loginSuccessModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex', 'items-center', 'justify-center');

            // Start countdown
            startCountdown();

            // Add animation effect
            const modalContent = modal.querySelector('div > div');
            modalContent.style.transform = 'scale(0.8)';
            modalContent.style.opacity = '0';

            setTimeout(() => {
                modalContent.style.transform = 'scale(1)';
                modalContent.style.opacity = '1';
                modalContent.style.transition = 'all 0.3s ease-out';
            }, 100);
        }

        // Close login modal
        function closeLoginModal() {
            if (countdownTimer) {
                clearInterval(countdownTimer);
            }
            const modal = document.getElementById('loginSuccessModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex', 'items-center', 'justify-center');
        }

        // Redirect to voting page
        function redirectToVoting() {
            if (countdownTimer) {
                clearInterval(countdownTimer);
            }
            window.location.href = 'index.html';
        }

        // Start countdown timer
        function startCountdown() {
            let count = 3;
            const countdownElement = document.getElementById('countdown');

            countdownTimer = setInterval(() => {
                count--;
                countdownElement.textContent = count;

                if (count <= 0) {
                    clearInterval(countdownTimer);
                    redirectToVoting();
                }
            }, 1000);
        }

        // Prevent closing modal accidentally
        document.getElementById('loginSuccessModal').addEventListener('click', function (e) {
            if (e.target === this) {
                // Don't close on outside click to prevent accidental closure
                return;
            }
        });

        document.getElementById('loadingModal').addEventListener('click', function (e) {
            if (e.target === this) {
                // Don't close loading modal on outside click
                return;
            }
        });

        // Form submission with NISN validation
        document.getElementById('loginForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const nisn = document.getElementById('nisnInput').value;
            const password = document.getElementById('passwordField').value;
            const loginButton = document.getElementById('loginButton');

            // Validation
            if (nisn.length !== 10) {
                alert('NISN harus terdiri dari 10 digit angka!');
                return;
            }

            if (!password) {
                alert('Password tidak boleh kosong!');
                return;
            }

            // Show loading
            showLoadingModal();
            loginButton.disabled = true;
            loginButton.textContent = 'MEMPROSES...';

            // Simulate login process
            setTimeout(() => {
                hideLoadingModal();

                // Reset button
                loginButton.disabled = false;
                loginButton.textContent = 'MASUK SEKARANG';

                // Here you would typically validate with your backend
                // For demo, we'll assume login is successful
                showLoginSuccessModal(nisn);

            }, 2000); // Simulate 2 second processing time
        });
    </script>
</body>

</html>